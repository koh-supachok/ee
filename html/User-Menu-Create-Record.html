<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html
  lang="en"
  class="light-style customizer-hide"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/"
  data-template="vertical-menu-template-free"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Login Basic - Pages | Sneat - Bootstrap 5 HTML Admin Template - Pro</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/img/favicon/favicon.ico" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons. Uncomment required icon fonts -->
    <link rel="stylesheet" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/fonts/boxicons.css" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/css/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/css/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link href="https://unpkg.com/filepond@^4/dist/filepond.css" rel="stylesheet" />
    <link
    href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css"
    rel="stylesheet"
    />
    <!-- Page CSS -->
    <!-- Page -->
    <link rel="stylesheet" href="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/css/pages/page-auth.css" />
    <!-- Helpers -->
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/js/config.js"></script>
  </head>

  <body>
    <!-- Content -->

    <div class="container-xxl">
      <div class="authentication-wrapper authentication-basic container-p-y">
        <div class="authentication-inner">
          <!-- Register -->
          <div class="card">
            <div class="card-body">
              <!-- Logo -->
              <div class="app-brand justify-content-center">
                <a href="index.html" class="app-brand-link gap-2">
                  <span class="app-brand-logo demo">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 605 493" enable-background="new 0 0 605 493" xml:space="preserve">
<path fill="#FFFEFE" opacity="1.000000" stroke="none" 
	d="
M426.000000,494.000000 
	C284.032196,494.000000 142.564423,494.000000 1.048315,494.000000 
	C1.048315,329.736298 1.048315,165.472580 1.048315,1.104425 
	C202.551102,1.104425 404.102264,1.104425 605.826721,1.104425 
	C605.826721,165.333176 605.826721,329.666565 605.826721,494.000000 
	C546.139282,494.000000 486.319641,494.000000 426.000000,494.000000 
M189.425507,458.917633 
	C286.440399,347.557800 383.455261,236.198013 480.470154,124.838203 
	C480.832886,125.037971 481.195618,125.237747 481.558380,125.437523 
	C480.903351,196.309814 480.248352,267.182098 479.585632,338.886169 
	C521.220825,338.886169 562.091797,338.886169 602.953979,338.886169 
	C602.953979,227.563171 602.953979,116.184219 602.953979,4.752308 
	C601.532837,4.679924 600.539612,4.585197 599.546448,4.585063 
	C540.881409,4.577120 482.216339,4.616861 423.551666,4.478703 
	C419.967651,4.470262 418.124512,6.242618 416.136688,8.533132 
	C353.151947,81.109489 290.161652,153.681030 227.156754,226.239868 
	C153.667862,310.872498 80.162415,395.490753 6.683062,480.131653 
	C5.343285,481.674957 4.239743,483.423370 2.336345,486.015137 
	C5.498218,486.015137 7.441397,485.989685 9.383740,486.019226 
	C22.203184,486.214264 35.021969,486.460663 47.841862,486.616608 
	C85.315941,487.072540 122.790092,487.541687 160.265625,487.803223 
	C162.377319,487.817932 165.076981,486.543457 166.523987,484.969147 
	C174.186569,476.632416 181.535690,468.007599 189.425507,458.917633 
M437.500000,365.043884 
	C394.685791,365.043884 351.871460,365.095093 309.057678,364.959534 
	C305.058685,364.946869 302.346588,366.027039 299.655151,369.088409 
	C272.178497,400.341736 244.537582,431.450592 216.949493,462.605988 
	C209.724365,470.765350 202.523071,478.945862 194.581848,487.942505 
	C331.176270,488.678406 466.604553,489.408020 602.033508,490.137634 
	C602.033508,448.084198 602.033508,406.825836 602.033508,365.043884 
	C547.356140,365.043884 492.928070,365.043884 437.500000,365.043884 
z"/>
<path fill="#E14024" opacity="1.000000" stroke="none" 
	d="
M189.209473,459.200134 
	C181.535690,468.007599 174.186569,476.632416 166.523987,484.969147 
	C165.076981,486.543457 162.377319,487.817932 160.265625,487.803223 
	C122.790092,487.541687 85.315941,487.072540 47.841862,486.616608 
	C35.021969,486.460663 22.203184,486.214264 9.383740,486.019226 
	C7.441397,485.989685 5.498218,486.015137 2.336345,486.015137 
	C4.239743,483.423370 5.343285,481.674957 6.683062,480.131653 
	C80.162415,395.490753 153.667862,310.872498 227.156754,226.239868 
	C290.161652,153.681030 353.151947,81.109489 416.136688,8.533132 
	C418.124512,6.242618 419.967651,4.470262 423.551666,4.478703 
	C482.216339,4.616861 540.881409,4.577120 599.546448,4.585063 
	C600.539612,4.585197 601.532837,4.679924 602.953979,4.752308 
	C602.953979,116.184219 602.953979,227.563171 602.953979,338.886169 
	C562.091797,338.886169 521.220825,338.886169 479.585632,338.886169 
	C480.248352,267.182098 480.903351,196.309814 481.558380,125.437523 
	C481.195618,125.237747 480.832886,125.037971 480.470154,124.838203 
	C383.455261,236.198013 286.440399,347.557800 189.209473,459.200134 
z"/>
<path fill="#E14024" opacity="1.000000" stroke="none" 
	d="
M438.000000,365.043884 
	C492.928070,365.043884 547.356140,365.043884 602.033508,365.043884 
	C602.033508,406.825836 602.033508,448.084198 602.033508,490.137634 
	C466.604553,489.408020 331.176270,488.678406 194.581848,487.942505 
	C202.523071,478.945862 209.724365,470.765350 216.949493,462.605988 
	C244.537582,431.450592 272.178497,400.341736 299.655151,369.088409 
	C302.346588,366.027039 305.058685,364.946869 309.057678,364.959534 
	C351.871460,365.095093 394.685791,365.043884 438.000000,365.043884 
z"/>
</svg>
                  </span>
                  <span class="app-brand-text demo text-body fw-bolder"></span>
                </a>
              </div>
              <!-- /Logo -->
              <h4 class="mb-2">ระบบขออนุมัติลาฉุกเฉิน</h4>
              <p class="mb-2">@{outputs('Get_item_2')?['body/field_1']}</p>

              <div class="card-body">
                <small class="fw-semibold">บันทึกข้อมูลขอลาฉุกเฉิน</small>
                <div class="row mt-3 gap-2">
                    <form class="d-grid gap-2 col-lg-12 mx-auto" action="https://prod-47.southeastasia.logic.azure.com/workflows/d7145af3c1af4eedb04e18bc56a3218c/triggers/manual/paths/invoke" method="GET">
                        <input type="hidden" name="api-version" value="2016-06-01"/>
                        <input type="hidden" name="sp" value="/triggers/manual/run"/>  
                        <input type="hidden" name="sv" value="1.0"/>  
                        <input type="hidden" name="sig" value="zpTwham4ZwTYLylH3tV8baH1oNRUAdxYQYkylCzHSGw"/>  
                        <input type="hidden" name="State" value="RECD"/> 
                        <input type="hidden" name="userid" value="@{outputs('Userid')}"/> 
                        <input type="hidden" name="Username" value="@{triggerOutputs()['queries']['Username']}"/> 
                        <input type="hidden" name="Accesscode" value="@{triggerOutputs()['queries']['Accesscode']}"/> 
                          <div class="mb-3">
                            <label class="form-label" for="basic-default-message">วันที่ลาฉุกเฉิน </label>
                            <input class="form-control" name="edate" type="date" value="@{formatDateTime(utcNow(), 'yyyy-MM-dd')}" id="edate" required/>
                          </div>
                          <div class="mb-3">
                            <label class="form-label" for="basic-default-message">ตั้งแต่เวลา </label>
                            <input class="form-control" type="time" name="estart" value="07:30:00" id="html5-time-input" required/>
                          </div>
                          <div class="mb-3">
                            <label class="form-label" for="basic-default-message">ถึงเวลา </label>
                            <input class="form-control" type="time" name="eend" value="09:30:00" id="html5-time-input" required/>
                          </div>
                          <div class="col-md">
                            <small>ประเภทการลา</small>
                            <div class="form-check mt-3">
                              <input
                                name="etype"
                                class="form-check-input"
                                type="radio"
                                value="ลากิจ"
                                id="defaultRadio1"
                                required
                              />
                              <label class="form-check-label" for="defaultRadio1"> ลากิจ </label>
                            </div>
                            <div class="form-check">
                              <input
                                name="etype"
                                class="form-check-input"
                                type="radio"
                                value="ลาป่วย"
                                id="defaultRadio2"
                              />
                              <label class="form-check-label" for="defaultRadio2"> ลาป่วย </label>
                            </div>
                          </div>
                          <div class="mb-3">
                            <label class="form-label" for="basic-default-message">สาเหตุการลา</label>
                            <textarea
                              id="basic-default-message"
                              name="ereason"
                              class="form-control"
                              placeholder="ระบุสาเหตุประกอบการลา"
                              required></textarea>
                          </div>
                          <div class="mb-3">
                            <label for="formFileMultiple" class="form-label">แนบไฟล์ประกอบ</label>
                            <!-- <input class="form-control" type="file" id="formFileMultiple" name="eattached" multiple /> -->
                            <form>
                            <input type="file" 
                              class="filepond"
                              name="filepond" 
                              form="asdf"
                              multiple 
                              data-allow-reorder="true"
                              data-max-file-size="3MB"
                              data-max-files="3"
                              data-file-metadata-sessionid="session-new"
                              accept="image/png, image/jpeg"></form>
                          </div>
                        <button class="btn btn-primary btn-lg" type="submit" onclick="inputElement.style.visibility = 'hidden';FilePond.destroy(inputElement);this.form.submit(); this.disabled = true;">ยื่นคำขอ</button>
                    </form>
                </div>
              </div>
            </div>
          </div>
          <!-- /Register -->
        </div>
      </div>
    </div>

    <!-- / Content -->

    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/libs/jquery/jquery.js"></script>
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/libs/popper/popper.js"></script>
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/js/bootstrap.js"></script>
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Vendors JS -->
    <script src="https://unpkg.com/filepond-plugin-image-transform/dist/filepond-plugin-image-transform.js"></script>
    <script src="https://unpkg.com/filepond/dist/filepond.js"></script>
    <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
    <script src="https://unpkg.com/filepond-plugin-file-metadata/dist/filepond-plugin-file-metadata.js"></script>
    <!-- Main JS -->
    <script src="https://ashy-coast-0fc044900.3.azurestaticapps.net/assets/js/main.js"></script>

    <!-- Page JS -->
    <script>
      // Get a reference to the file input element

      FilePond.registerPlugin(
        FilePondPluginImagePreview,
        FilePondPluginFileMetadata
      );

      const inputElement = document.querySelector('input[type="file"]');

      // Create a FilePond instance
      const pond = FilePond.create(inputElement);

      var fileid = 0

      FilePond.setOptions({
        server: {
          // url: 'https://prod-27.southeastasia.logic.azure.com:443/workflows/0392fb5c4f2b4460b7fc396730b321a1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=/triggers/manual/run&sv=1.0&sig=DIWbt0NbzQqEoyS7tWapNzpOBjXiE1O4yYIM2eUneak',
          process: {
            url: 'https://prod-27.southeastasia.logic.azure.com:443/workflows/0392fb5c4f2b4460b7fc396730b321a1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=/triggers/manual/run&sv=1.0&sig=DIWbt0NbzQqEoyS7tWapNzpOBjXiE1O4yYIM2eUneak',
            method: 'POST',
            withCredentials: false,
            headers: {
              'empid': '12345',
              'file_id': fileid,
              'type': 'ADD',
            },
            timeout: 7000,
            onload: null,
            onerror: null,
            ondata: null,
          },
          revert: {
            url: 'https://prod-27.southeastasia.logic.azure.com:443/workflows/0392fb5c4f2b4460b7fc396730b321a1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=/triggers/manual/run&sv=1.0&sig=DIWbt0NbzQqEoyS7tWapNzpOBjXiE1O4yYIM2eUneak',
            method: 'POST',
            withCredentials: false,
            headers: {
              'empid': '12345',
              'file_id': fileid,
              'type': 'DEL',
            },
            timeout: 7000,
            onload: null,
            onerror: null,
            ondata: null,
          },
        },
      });



      // listen for events
      pond.on('addfile', (error, file) => {
        if (error) {
          console.log('Oh no');
          return;
        }
        console.log('File added', file.id);
        fileid = file.id;
        FilePond.setOptions({
          server: {
            // url: 'https://prod-27.southeastasia.logic.azure.com:443/workflows/0392fb5c4f2b4460b7fc396730b321a1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=/triggers/manual/run&sv=1.0&sig=DIWbt0NbzQqEoyS7tWapNzpOBjXiE1O4yYIM2eUneak',
            process: {
              url: 'https://prod-27.southeastasia.logic.azure.com:443/workflows/0392fb5c4f2b4460b7fc396730b321a1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=/triggers/manual/run&sv=1.0&sig=DIWbt0NbzQqEoyS7tWapNzpOBjXiE1O4yYIM2eUneak',
              method: 'POST',
              withCredentials: false,
              headers: {
                'empid': '12345',
                'file_id': fileid,
                'type': 'ADD',
              },
              timeout: 7000,
              onload: null,
              onerror: null,
              ondata: null,
            },
            revert: {
              url: 'https://prod-27.southeastasia.logic.azure.com:443/workflows/0392fb5c4f2b4460b7fc396730b321a1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=/triggers/manual/run&sv=1.0&sig=DIWbt0NbzQqEoyS7tWapNzpOBjXiE1O4yYIM2eUneak',
              method: 'POST',
              withCredentials: false,
              headers: {
                'empid': '12345',
                'file_id': fileid,
                'type': 'DEL',
              },
              timeout: 7000,
              onload: null,
              onerror: null,
              ondata: null,
            },
          },
        });

      });
      pond.on('removefile', (error, file) => {
        if (error) {
          console.log('Oh no');
          return;
        }
        console.log('File removed', file.id);

      });
      pond.on('addfilestart', (error, file) => {
        if (error) {
          console.log('Oh no');
          return;
        }
        console.log('addfilestart', file.id);
        fileid = file.id;
      });
    </script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </body>
</html>